import "fp-mul.fil";

extern "fp-mult-nopipe.sv" {
  component FP_Mult_NoPipe<G>(
      @interface[G, G+1] @phantom go: 1,
      @[G, G+1] a: 32,
      @[G, G+1] b: 32,
  ) -> (
      @[G, G+1] exception: 1,
      @[G, G+1] overflow: 1,
      @[G, G+1] underflow: 1,
      @[G, G+1] res: 32,
  );
}

component main<G>(
  @interface[G, G+1] _go: 1,
  @[G, G+1] left: 32,
  @[G, G+1] right: 32,
) -> (
  @[G, G+1] out: 32,
  @[G, G+1] verilog_nopipe: 32,
) {
  np := new FP_Mult_NoPipe<G>(left, right);
  f := new FP_Mult<G>(left, right);

  verilog_nopipe = np.res;
  out = f.out;
}