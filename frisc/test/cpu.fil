import "frisc/src/cpu.fil";

comp main<G:1> (
  clk:1,
  reset:1,
  @[G,G+1] instr:32,
  @[G,G+1] pcin:32,
) -> (
  @[G,G+1] pc:32,
  @[G,G+1] nextpc:32,
  @[G,G+1] isLoad:1,
  @[G,G+1] isStore:1,
  @[G,G+1] out:32,
  @[G,G+1] memAddr:32,
  @[G,G+1] memData:32,
) {
  cpu := new CPU<G>(instr, pcin);
  out = cpu.out;
  pc = cpu.pc;
  nextpc = cpu.nextpc;
  isLoad = cpu.isLoad;
  isStore = cpu.isStore;
  memAddr = cpu.memAddr;
  memData = cpu.memData;
}