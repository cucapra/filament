extern component Mult<G>(
  @[G, G+1] left: 32,
  @[G, G+1] right: 32,
) -> (
  @[G+3, G+4] out: 32,
);

extern component Add<G>(
  @[G, G+1] left: 32,
  @[G, G+1] right: 32,
) -> (
  @[G+2, G+3] out: 32,
);

component main<G>(
  @[G, G+1] a: 32,
  @[G, G+1] b: 32,
  @[G, G+3] c: 32
) -> (
  @[G+3, G+4] out: 32
) {

  A := new Mult;
  M := new Add;

  when G { m0 := M<G>(a, b); }
  when G+3 { a0 := A<G+3>(m0.out, c); }

  out = a0.out;
}
